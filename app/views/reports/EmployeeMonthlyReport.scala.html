@(id:Long,reportType:String) 
@header("Reports",8){
<section> 
	<div class="container">
		<div class="panel">
			<div class="panel-body padding-bottom-50 padding-top-0">
				<div class="row">
					<div class="col-md-12">
						<div class="dropdown" style="display: inline-block;">
						@if(reportType=="sedr" ||  reportType=="sumarry-Week-Wise-Report" || reportType=="sumarry-Week-Wiseemp-Report" || reportType=="Employee_Monthly_Status_Report"){
							  <button class="btn dropdown-toggle text-orange" type="button" data-toggle="dropdown">Summary
							  <span class="caret"></span></button>
							  }else{
							  <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Summary
							  <span class="caret"></span></button>
							  }
							  <ul class="dropdown-menu">
								     @if(session.get("AppUserRole")=="Admin"){
								     <li><a href="/EmployeeReport/Employee_Monthly_Status_Report">Employee Report</a></li>
							         <li><a href="/dscdatewisereport/sedr/0">Date-Wise Employee Report</a></li>
							         <li><a href="/EmployeeReport/sumarry-Week-Wiseemp-Report">Week-Wise Employee Report</a></li>
							         }else{
							          <li><a href="/dscdatewisereport/sedr/1">Date-Wise Report</a></li>
							          <li><a href="/EmployeeReport/sumarry-Week-Wise-Report">Week-Wise Report</a></li>
							          <li><a href="/EmployeeReport/anytime_report">AnyTime Report</a></li>
							          
							         }
                           </ul>
						</div>
						<span class="piperepots">|</span>
						<div class="dropdown" style="display: inline-block;">
						@if(reportType=="empweek-Wise-Report" || reportType=="attendance" || reportType=="attendanceComapany"){
							  <button class="btn dropdown-toggle text-orange" type="button" data-toggle="dropdown">Attendance
							  <span class="caret"></span></button>
							  }else{
							   <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Attendance
							  <span class="caret"></span></button>
							  }
							  <ul class="dropdown-menu">
								  @if(session.get("AppUserRole")=="Engineer" || session.get("AppUserRole") =="Marketing" || session.get("AppUserRole") =="Manager"){
								 		  <li><a href="/EmployeeReport/attendance">Week-Wise Report</a></li>
								 		   @if(session.get("AppUserRole")=="Manager") {
											    <li><a href="/dscdatewisereport/biometric-attendance-yearly/0">Employee Yearly Report</a></li>
										    }else{
											    <li><a href="/dscdatewisereport/biometric-attendance-yearly/0">Yearly Report</a></li>
										    }
								    }else{
									    <li><a href="/EmployeeReport/empweek-Wise-Report">Week-Wise Employee Report</a></li>
								    	<li><a href="/EmployeeReport/attendanceComapany">Week-Wise Company Report</a></li>
								    	<li><a href="/dscdatewisereport/biometric-attendance-yearly/0">Employee Yearly Report</a></li>
								    	<li><a href="/EmployeeReport/all-employee-biometric-report">All Employee Biometric Report</a></li>
								  	}
							  </ul>
						</div>
						
						 <span class="piperepots">|</span>	  
						 <div class="dropdown" style="display: inline-block;">
							  
							     @if(reportType=="dscdr" || reportType=="All_Employee_Status"){
									  <button class="btn dropdown-toggle text-orange" type="button" data-toggle="dropdown">Daily Status
									  <span class="caret"></span></button>
								  }else{
								  	 <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Daily Status
										<span class="caret"></span>
								</button>
								  }
								  <ul class="dropdown-menu">
								 	@if(session.get("AppUserRole")=="Admin"){
								         <li><a href="/dscdatewisereport/dscdr/0">Date-Wise Company Report</a></li>
								         <li><a href="/EmployeeReport/all_employeeDsr">DSR Compliance Report</a></li>
								         <li><a href="/dscdatewisereport/yearly_report/0">Employee Yearly Report</a></li>
							  		 }else{
							  		     @if(session.get("AppUserRole")=="Manager"){
							  		     	<li><a href="/dscdatewisereport/yearly_report/0">Employee Yearly Report</a></li>
							  		     }else{
							  		     	<li><a href="/dscdatewisereport/yearly_report/0">Yearly Report</a></li>
							  		     }
							  		 }
								  </ul>
						   </div>
						   @if(session.get("AppUserRole")=="Admin" || session.get("AppUserRole")=="HR"){
					     <span class="piperepots">|</span>
					   <div class="dropdown" style="display: inline-block;">
							  <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Leave
							  <span class="caret"></span></button>
							  <ul class="dropdown-menu">
							         <li><a href="/dscdatewisereport/leave_report/0">Employee Yearly Report</a></li>
							         <li><a href="/dscdatewisereport/leave_balance_report/0">Leave Balance Report</a></li>
							   </ul>
					    </div>
					    
					    }
						   @if(session.get("AppUserRole")=="Admin"){
						   <span class="piperepots">|</span>
					   <div class="dropdown" style="display: inline-block;">
					  
					   @if(reportType=="Employee_Project_Details"){
							  <button class="btn dropdown-toggle text-orange" type="button" data-toggle="dropdown">Time Sheet
							  <span class="caret"></span></button>
							   }else{
							   	  <button class="btn dropdown-toggle" type="button" data-toggle="dropdown">Time Sheet
							  <span class="caret"></span></button>
							   }
							   <ul class="dropdown-menu">
							         <li><a href="/EmployeeReport/Employee_Project_Details">Project Employee Hours Report</a></li>
							   </ul>
					    </div>
					    }
					  
					</div>
					  <div class="col-md-12 heading-badge">
					 @if(reportType=="Employee_Monthly_Status_Report"){
                    <h3>Employee Report - Any Time Period</h3>
                    }else{
		                  @if(reportType=="Employee_Project_Details"){
		                    <h3>Project Employee Hours Report</h3>
                           }else{
                        		@if(reportType=="All_Employee_Status"){
                        			<h3>AnyTime Report</h3>
                              	} else {
									<h3>All Employee Biometric Report</h3>
                              	}
                           }
                               
                    } 
		        </div>
		        <div class="row">
				   <div class="col-md-4 col-md-offset-4">
				      <div class="form-group is-empty">
				    		  <div class="row">
				  			       @if(reportType=="Employee_Monthly_Status_Report"){
									<label for="userList" class="col-md-4 control-label">User</label>
									<div class="col-md-6">
									   <select id="appusername" class="form-control">
									
											<option value="0">Select Engineer</option>
											@for(employeeReport <-AppUser.find.all()) {
												<option value="@employeeReport.getId">@employeeReport.getFullName</option>
											 }
										
										</select>
									 </div>
									 }
								 </div>	
							<div class="row"> 
		                           	<div class="col-md-12">
										<div class="form-group is-empty">
					                		<div class="row">
					                       	  <label for="inputEmail" class="control-label col-md-4">Start Date</label>
					                             <div class="col-md-6">
					                                 <div id="sandbox-container">
					                                     <input class="form-control mydate1" name="startedDate" placeholder="DD-MM-YYYY" type="text" id="datewise" autocomplete="off"> 
					                                 </div>
					                             </div>
					                         </div>
					                    </div>
		                  			</div>          
				            </div>
				            <div class="row"> 
				                  <div class="col-md-12">
									<div class="form-group is-empty">
				                		<div class="row">
				                       	  <label for="inputEmail" class="control-label col-md-4">End Date</label>
				                             <div class="col-md-6">
				                                 <div id="sandbox-container">
				                                     <input class="form-control mydate2" name="startedDate" placeholder="DD-MM-YYYY" type="text" id="datewise" autocomplete="off"> 
				                                 </div>
				                             </div>
				                         </div>
				                    </div>
				                  </div>
                            </div>
					</div>
					<div class="clearfix"></div>
				   	
					
		    	</div>
					  <div class="col-md-12" style="margin-top:20px" id="DailyStatusByDate"></div>
		    </div>
		    
           	      <div class="text-center">	
           	      <input type="hidden" value="@id" id ="userid" class="btn btn-primary btn-userId">
	                     <input type="submit" value="Generate Report" id="cmpweeklyattend" class="btn btn-primary btn-raised">
	                    
                  </div>   
			      <div class="col-md-12" id="CmpweeklyAttend" style="margin-top:20px"></div> 
					 
			</div>
		</div>
	</div>
	</div>
	
</section>
}
@footer(""){
	<script> 
     $(document).ready(function(){
	    var eventDates = {};
	    var d = new Date();
	    var n = d.getFullYear(); 
		d.setDate(d.getDate()-1)
		var start = '01-01-'+n; 
		 $('.mydate1,.mydate2').datepicker({
	        format: 'dd-mm-yyyy',
	        startDate: start,
	        endDate: d, 
	        autoclose: true 
	    });
    });
    $('.mydate1').on('changeDate',function (e) {
       var fromDate = $(this).val();
       $('.mydate2').datepicker('setStartDate', fromDate);
       $('.mydate2').val('');
       
    });
    
    $('#cmpweeklyattend').click(function(){
        var sDate = $('.mydate1').val();
    	var eDate = $('.mydate2').val();
    	 if($('#appusername').val() == "0"){
             alert("Plz select user ");
         }else{
        	 if('@reportType'=="Employee_Monthly_Status_Report"){
              	$.get('/getEmpWeeklyAttendance/' +sDate+ '/' + eDate+'/'+ $('#appusername').val()+'/'+'@reportType', function(data) {
                     $('#CmpweeklyAttend').html(`<iframe id="target" src="/redirect/${data}" width="100%" height="550px"></iframe>`);
                   });
          	 }else if('@reportType'=="Employee_Project_Details" || '@reportType'=="All_Employee_Status"){
          	    
          	     	$.get('/getprojectDetails/' +sDate+ '/' + eDate+'/'+'@reportType', function(data) {
                        $('#CmpweeklyAttend').html(`<iframe id="target" src="/redirect/${data}" width="100%" height="550px"></iframe>`);
                   });
           }
           else if('@reportType'=="anytime_report"){
           		$.get('/getEmpWeeklyAttendance/' +sDate+ '/' + eDate+'/'+ $('#userid').val()+'/'+'@reportType', function(data) {
                   $('#CmpweeklyAttend').html(`<iframe id="target" src="/redirect/${data}" width="100%" height="550px"></iframe>`);
                   });
             } else if('@reportType' == "all-employee-biometric-report.xls"){
             	$.get('/getprojectDetails/' +sDate+ '/' + eDate+'/'+'@reportType', function(data) {
                      $('#CmpweeklyAttend').html(`<iframe id="target" src="/redirect/${data}" width="100%" height="600px"></iframe>`);
                      
                   });
             }
             
        } 
   });
</script> 
} 
