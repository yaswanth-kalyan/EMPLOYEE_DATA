@(employeeAppraisalQuestionList : List[models.performance.PeQuestion] , memberId : java.lang.Long)
@import java.lang.Long; var last=0l;
<style>
.form-group.has-error label.control-label, .form-group.has-error .help-block {
    color: #f44336 !important;
}
.form-horizontal .control-label {
    text-align: center;
}
.form-group label.control-label {
    margin: 0px 0 0 0 !important;
}
</style>
                @*<div class="col-md-12 heading-badge">
                	<div class="col-md-5" >
            			<h3 class="">Update Self Appraisal </h3>
             		</div>
             		<div class="col-md-4 text-left" >
            			<button type="button" class="btn btn-raised btn-default margin-0">
							<h5>@PEController.getMonth.format("MM-yyyy")</h5>
						</button>
             		</div>
                </div>*@
               <div class="row">
                 <div class="col-md-12">
                        <div class="text-center">
                        @if(PEController.getCondition){
	                        @if(memberId != null){
	                        	@if(models.performance.PeQuestion.getEmployeefTotalWeightage()){
			                        <form class="form-horizontal" id="employeeAppraisalForm" action="/performance/addEmployeeAppraisal"  method="post">
			                        	<input type="hidden" name="teamMemberId" value="@memberId">
			                        	@for((employeeAppraisalQuestion,index) <- employeeAppraisalQuestionList.zipWithIndex){
			                        		@(last = {index+1}) 
				                                <div class="col-md-12">
				                                <div class="col-md-10 col-md-offset-1">
				                                    <div class="text-left ">
				                                    <p>Q@{index+1}. <span>
				                                    	@for(observedValue <- PEController.convertReference(employeeAppraisalQuestion.question)){
															@observedValue
															<br>
														}
				                                    	</span>
				                                    </p>
				                                    </div>
				                                    <input type="hidden" name="questionId[@index]" value="@employeeAppraisalQuestion.id">
				                                </div>
				                                <div class="col-md-1 text-left">
				                                	<button type="button" class="btn btn-warning btn-sm btn-raised taskdelbtn deleteSource marginAll0px qNote" value="@employeeAppraisalQuestion.note">Note</button>
				                                </div>
				                                </div>
				                                <div class="col-md-11 col-md-offset-1">
				                                	<div class="form-group">
														<div class="col-md-1  padding0 ">
															<input type="radio" value="1" name="rate[@index]" required/>
															<br>
															<label class="control-label">1
															<br>Extremely Bad
															</label>
														</div>
														<div class="col-md-1 ">
															<input type="radio" value="2" name="rate[@index]" required />
															<br>
															<label class="control-label">2</label>
														</div>
														<div class="col-md-1 ">
															<input type="radio" value="3" name="rate[@index]" required />
															<br>
															<label class="control-label">3</label>
														</div>
														<div class="col-md-1 ">
															<input type="radio" value="4" name="rate[@index]" required/>
															<br>
															<label class="control-label">4</label>
														</div>
														<div class="col-md-1 ">
															<input type="radio" value="5" name="rate[@index]" required/>
															<br>
															<label class="control-label">5</label>
														</div>
														<div class="col-md-1 ">
															<input type="radio" value="6" name="rate[@index]" required/>
															<br>
															<label class="control-label">6</label>
														</div>
														<div class="col-md-1">
															<input type="radio" value="7" name="rate[@index]" required/>
															<br>
															<label class="control-label">7</label>
														</div>
														<div class="col-md-1">
															<input type="radio" value="8" name="rate[@index]" required/>
															<br>
															<label class="control-label">8</lfda fdas fdabel>
														</div>
														<div class="col-md-1">
															<input type="radio" value="9" name="rate[@index]" required/>
															<br>
															<label class="control-label">9</label>
														</div>
														<div class="col-md-1 padding0">
															<input type="radio" value="10" name="rate[@index]" required/>
															<br>
															<label class="control-label">10
															<br>Extremely Good
															</label>
														</div>
													</div>	
				                               </div>
			                               <div class="col-md-12 text-center">
											<center>
												<p data-fv-result="INVALID" data-fv-for="rate" id="radiovalid" data-fv-validator="notEmpty" class="help-block" style="display: none;">please fill this field</p>
											</center>
											</div>
				                              <div class=" col-md-10 col-md-offset-1">
				                              	<textarea class="form-control" minlength="100"  name="answer[@index]" rows="5" id="textArea" placeholder="Enter Text Min 100 Characters" required="required"></textarea>
				                              </div>
			                          	}
			                          		<div class="col-md-12">
			                          		<div class="col-md-10 col-md-offset-1">
				                              	<div class="text-left ">
				                                    <p>Q@{last+1}. <span> Issues/concerns </span></p>
				                                 </div>
				                              </div>
				                              <div class="col-md-1">
				                                	<button type="button" class="btn btn-warning btn-sm btn-raised taskdelbtn deleteSource marginAll0px qNote" value="Enter Your Issues/concerns">Note</button>
				                                </div>
				                            </div>
				                              <div class="col-md-10 col-md-offset-1">
				                              	<textarea class="form-control" name="issue" rows="5" id="textArea" placeholder="Enter Issues/concerns"></textarea>
				                              </div>
			                          	<div class="row">
			                                <div class="col-md-12 " >
			                                    <input type="submit" value="Submit" id="checkValidation" class="btn btn-primary btn-raised">
			                                </div>
			                            </div>
			                            </form>
	                            	 }else{
		                            	<h3 class="text-center">Appraisal Form unavailable. Please contact HR !</h3>
		                            }
	                            }else{
	                            	<h3 class="text-center">This Month Employee Appraisal Form Already Successfully Submitted</h3>
	                            }
                            }else{
                            	<h3 class="text-center">Appraisal Form will be available from 27th till 3rd of next month !</h3>
                            }
                        </div>
                    </div>
                </div>

	<div id="QNote" class="modal fade">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                    <span aria-hidden="true">&times;</span>
	                </button>
	                <h3 id="lblTitleConfirmYesNo" class="modal-title">Note</h3>
	            </div>
	            <div class="modal-body">
	            	<textarea id="resNote" rows="5" style="width:100%;min-height:300px;" disabled="disabled"></textarea>
	            </div>
	            <div class="modal-footer">
	               @* <button id="btnYesConfirmYesNo3" type="button" class="btn btn-success btn-sm btn-raised btnYesConfirmYesNo3">Yes</button>*@
	                <button id="btnNoConfirmYesNo3" type="button" class="btn btn-danger btn-sm btn-raised" data-dismiss="modal">Ok</button>
	            </div>
	        </div>
	    </div>
	</div> 
<script>
$(document).on('click', '.qNote', function() {
	var Note=$(this).attr('value');
	$("#resNote").text(Note)
	$('#QNote').modal('show');
	
});

@*$(document).on('click', '#checkValidation', function() {
	$('#radiovalid').show();
	var curStep = $(this).closest(".form-group")
	curRadios = curStep.find("input");
	alert(curRadios.length);
	for(var i=0; i<curRadios.length; i++){
       	var b =  $(curRadios[i]).closest(".form-group").hasClass("has-error");
       	if(b){
       		alert(b);
       		$('#radiovalid').show();
       	}
    }
	
});*@

$(document).ready(function(){

$('#employeeAppraisalForm').bootstrapValidator();
	
})
$("#allTaskStatusTable").DataTable(); 
</script>

 
 
 